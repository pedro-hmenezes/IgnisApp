### ===================================================
### üöÄ ENDPOINT DE FINALIZA√á√ÉO COMPLETA
### ===================================================

### 1. Finalizar Ocorr√™ncia Completamente (TUDO DE UMA VEZ!)
PATCH https://ignisapp.onrender.com/api/occurrences/674321.../finalize
Content-Type: application/json
Authorization: Bearer SEU_TOKEN_AQUI

{
  "viaturaEmpenhada": "ABT-45",
  "equipe": "Sgt Peixoto, Cabo Silva, Soldado Santos",
  "descricaoAcoes": "Equipe chegou ao local √†s 14:30. Inc√™ndio em resid√™ncia de dois pavimentos. Realizado combate direto com linha de ataque de 2 polegadas. Tr√™s v√≠timas resgatadas e encaminhadas para atendimento m√©dico. Situa√ß√£o controlada √†s 15:45. √Årea resfriada e vistoriada.",
  "latitudeFinal": -8.05428,
  "longitudeFinal": -34.8813,
  "signerName": "Sgt Peixoto",
  "signerRole": "Comandante - Viatura ABT-45",
  "signatureData": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNk+M9QDwADhgGAWjR9awAAAABJRU5ErkJggg==",
  "photosIds": []
}

### ===================================================

### 2. Finalizar COM Fotos J√° Enviadas
PATCH https://ignisapp.onrender.com/api/occurrences/674321.../finalize
Content-Type: application/json
Authorization: Bearer SEU_TOKEN_AQUI

{
  "viaturaEmpenhada": "ABT-45",
  "equipe": "Sgt Peixoto e equipe",
  "descricaoAcoes": "Combate realizado com sucesso.",
  "latitudeFinal": -8.05428,
  "longitudeFinal": -34.8813,
  "signerName": "Sgt Peixoto",
  "signerRole": "Comandante",
  "signatureData": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNk+M9QDwADhgGAWjR9awAAAABJRU5ErkJggg==",
  "photosIds": ["674abc123...", "674def456..."]
}

### ===================================================

### 3. Buscar Detalhes da Finaliza√ß√£o
GET https://ignisapp.onrender.com/api/occurrences/674321.../finalization-details
Authorization: Bearer SEU_TOKEN_AQUI

### ===================================================
### ‚ùå TESTES DE ERRO
### ===================================================

### 4. Erro: Campos obrigat√≥rios faltando
PATCH https://ignisapp.onrender.com/api/occurrences/674321.../finalize
Content-Type: application/json
Authorization: Bearer SEU_TOKEN_AQUI

{
  "viaturaEmpenhada": "ABT-45",
  "signerName": "Sgt Peixoto",
  "signatureData": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNk+M9QDwADhgGAWjR9awAAAABJRU5ErkJggg=="
}

### ===================================================

### 5. Erro: GPS faltando
PATCH https://ignisapp.onrender.com/api/occurrences/674321.../finalize
Content-Type: application/json
Authorization: Bearer SEU_TOKEN_AQUI

{
  "viaturaEmpenhada": "ABT-45",
  "equipe": "Sgt Peixoto",
  "descricaoAcoes": "Teste",
  "signerName": "Sgt Peixoto",
  "signatureData": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNk+M9QDwADhgGAWjR9awAAAABJRU5ErkJggg=="
}

### ===================================================

### 6. Erro: Assinatura inv√°lida (n√£o √© base64)
PATCH https://ignisapp.onrender.com/api/occurrences/674321.../finalize
Content-Type: application/json
Authorization: Bearer SEU_TOKEN_AQUI

{
  "viaturaEmpenhada": "ABT-45",
  "equipe": "Sgt Peixoto",
  "descricaoAcoes": "Teste",
  "latitudeFinal": -8.05428,
  "longitudeFinal": -34.8813,
  "signerName": "Sgt Peixoto",
  "signatureData": "assinatura-invalida"
}

### ===================================================
### üìù NOTAS
### ===================================================

# ‚úÖ O que este endpoint faz:
# 1. Salva relat√≥rio operacional (viatura, equipe, descri√ß√£o)
# 2. Registra localiza√ß√£o GPS final
# 3. Cria assinatura digital
# 4. Vincula fotos (se enviadas)
# 5. Marca ocorr√™ncia como finalizada
# 6. Tudo em uma √∫nica transa√ß√£o at√¥mica!

# üéØ Campos obrigat√≥rios:
# - viaturaEmpenhada
# - equipe
# - descricaoAcoes
# - latitudeFinal
# - longitudeFinal
# - signerName
# - signatureData (base64 de imagem)

# üîß Campos opcionais:
# - signerRole (padr√£o: "Respons√°vel")
# - photosIds (array de IDs de fotos j√° enviadas)

### ===================================================
